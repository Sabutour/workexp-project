<html>
  <head>
    <title>HOME PAGE</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">

    <!--This is the script for the clock.-->
    <script>
      function startTime() {
        var today = new Date();
        var y = today.getFullYear();
        var month = today.getMonth() + 1;
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('txt').innerHTML = today.getDate() + "/" + month + "/" + y + "  " + "  " + h + ":" + m + ":" + s;
        var t = setTimeout(startTime, 500);
      }

      function checkTime(i) {
        if (i < 10) {i = "0" + i}; //add zero in front of numbers < 10
        return i;
      }
    </script>

    <!--This is the script for the buttons that change the background.-->
    <script>
      function changeBackgroundPurple() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-pflower.jpg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#B648FD";
        document.getElementById("note_popup_header").style.backgroundColor = "#B648FD";
        document.getElementById("background_popup_header").style.backgroundColor = "#B648FD";
        document.getElementById("logout_popup_header").style.backgroundColor = "#B648FD";
      }

      function changeBackgroundBlue() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-tree.jpeg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#56a0d9";
        document.getElementById("note_popup_header").style.backgroundColor = "#56a0d9";
        document.getElementById("background_popup_header").style.backgroundColor = "#56a0d9";
        document.getElementById("logout_popup_header").style.backgroundColor = "#56a0d9";
      }

      function changeBackgroundRed() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-rflower.jpeg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#BB0303";
        document.getElementById("note_popup_header").style.backgroundColor = "#BB0303";
        document.getElementById("background_popup_header").style.backgroundColor = "#BB0303";
        document.getElementById("logout_popup_header").style.backgroundColor = "#BB0303";
      }

      function changeBackgroundYellow() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-yflower.jpg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#FABB02";
        document.getElementById("note_popup_header").style.backgroundColor = "#FABB02";
        document.getElementById("background_popup_header").style.backgroundColor = "#FABB02";
        document.getElementById("logout_popup_header").style.backgroundColor = "#FABB02";
      }

      function changeBackgroundOrange() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-web.jpg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#FF8300";
        document.getElementById("note_popup_header").style.backgroundColor = "#FF8300";
        document.getElementById("background_popup_header").style.backgroundColor = "#FF8300";
        document.getElementById("logout_popup_header").style.backgroundColor = "#FF8300";
      }

      function changeBackgroundGreen() {
        document.getElementById("main_container").style.backgroundImage = "url('/static/images/background-grass.jpg')";
        document.getElementById("event_popup_header").style.backgroundColor = "#33AC20";
        document.getElementById("note_popup_header").style.backgroundColor = "#33AC20";
        document.getElementById("background_popup_header").style.backgroundColor = "#33AC20";
        document.getElementById("logout_popup_header").style.backgroundColor = "#33AC20";
      }
    </script>

  </head>

  <!--On load, the body begins the clock script, and the script that submits the form containing the user's ID-->
  <body onload="startTime()">

    <!--This div preloads the background images.-->
    <div class="hidden_user_id_form">
      <script type="text/javascript">
        <!--//--><![CDATA[//><!--
          var images = new Array()
          function preload() {
            for (i = 0; i < preload.arguments.length; i++) {
              images[i] = new Image()
              images[i].src = preload.arguments[i]
            }
          }
          preload(
            "/static/images/background-rflower.jpeg",
            "/static/images/background-tree.jpeg",
            "/static/images/background-grass.jpg",
            "/static/images/background-yflower.jpg",
            "/static/images/background-pflower.jpg",
            "/static/images/background-web.jpg"
          )
        //--><!]]>
      </script>
    </div>

    <!--This div is for the main naviagation sidebar.-->
    <div class="popup_nav" id="nav_bar">
      <a href="#event_popup">
        <img src="/static/images/event-icon.png" class="icon" />
      </a>

      <a href="#note_popup">
        <img src="static/images/note-icon.png" class="icon" />
      </a>

      <a href="#background_popup">
        <img src="static/images/background-icon.png" class="icon" />
      </a>

      <a href="#logout_popup">
        <img src="static/images/logout-icon.png" class="icon_logout" />
      </a>

    </div>

    <!--This is the main container of the page, containing the all menus that aren't navigation or popups.-->
    <div class="main_container" id="main_container">

    <!--This div is the event popup that allows the user to add a new event. It is hidden until opened in the navigation menu.-->
    <div id="event_popup" class="screen_overlay">

      <div class="event_menu_popup">

        <div class="popup_header" id="event_popup_header">
          <a class="close" href="#"><img src="/static/images/close.png" style="height: 1vw; width:1vw;" /></a>
        </div>

        <h2 style="text-align: center;">Enter Event Details:</h2>
        <br />
        <div id="main">
          <form method="post" action="{{ url_for('submitted_form') }}">

            <label for="eventName">Name:</label>
            <input type="text" name="eventName" required>

            <br />
            <br />

            <label for="eventDate">Date:</label>
            <input type="date" name="eventDate" required>

            <br />
            <br />

            <label for="eventLocation">Location:</label>
            <input type="text" name="eventLocation">

            <br />
            <br />

            <label for="eventDetails">Details:</label>
            <textarea rows="5" name="eventDetails"></textarea><br />

            <input type="hidden" name="user_email" value="{{user_email}}">
            <input type="hidden" name="user_id_number"  value="{{user_id_number}}">

            <input type="submit">
          </form>
        </div>

      </div>

    </div>

    <!--This div is the notes popup that allows the user to add a new note. It is hidden until opened in the navigation menu.-->
    <div id="note_popup" class="screen_overlay">

      <div class="event_menu_popup">

        <div class="popup_header" id="note_popup_header">
          <a class="close" href="#"><img src="/static/images/close.png" style="height: 1vw; width:1vw;" /></a>
        </div>

        <h2 style="text-align: center;">Enter Note Details:</h2>
        <br />
        <div id="main">
          <form method="post" action="{{ url_for('submitted_note') }}">
            <label for="noteName">Title:</label>
            <input type="text" name="noteName" required>

            <br />
            <br />

            <label for="noteContent">Content:</label>
            <textarea rows="10" min-width="80%" name="noteContent"></textarea>

            <br />
            <br />

            <input type="hidden" name="user_email" value="{{user_email}}">
            <input type="hidden" name="user_id_number"  value="{{user_id_number}}">

            <input type="submit">
          </form>
        </div>

      </div>

    </div>

<!-- Background popup -->

    <div id="background_popup" class="screen_overlay">
      <div class="background_menu_popup">
        <div class="popup_header" id="background_popup_header">
          <a class="close1" href="#"><img src="/static/images/close.png" style="height: 1vw; width:1vw;" /></a>
        </div>

        <br />
        <div id="main">
          <!--This div contains the buttons that change the background.-->
          <div>
            <a href="#" ><button onclick="changeBackgroundPurple()" class="color_selection_icon" style="background-color: #B648FD"></button></a>
            <a href="#" ><button onclick="changeBackgroundBlue()" class="color_selection_icon" style="background-color: #56a0d9"></button></a>
            <a href="#" ><button onclick="changeBackgroundRed()" class="color_selection_icon" style="background-color: #BB0303"></button></a>
            <a href="#" ><button onclick="changeBackgroundYellow()" class="color_selection_icon" style="background-color: #FABB02"></button></a>
            <a href="#" ><button onclick="changeBackgroundOrange()" class="color_selection_icon" style="background-color: #FF8300"></button></a>
            <a href="#" ><button onclick="changeBackgroundGreen()" class="color_selection_icon" style="background-color: #33AC20"></button></a>
          </div>
        </div>
      </div>
    </div>

    <div id="logout_popup" class="screen_overlay">
      <div class="background_menu_popup">
        <div class="popup_header" id="logout_popup_header">
          <a class="close1" href="#"><img src="/static/images/close.png" style="height: 1vw; width:1vw;" /></a>
        </div>

          <p style="text-align: center">
            Are you sure you would like to log out?
          </p>

            <div class="logout_button_container">

                <a class="logout_button" href="{{logout_url}}" style="left:5%">Log Out</a>

                <a class="logout_button" href="#" style="left:77%">Cancel</a>

              </div>

      </div>
    </div>

      <!--This is the div for the main events/calendar menu.-->
      <div class="events_menu" id="events_menu">

        <h1 class="title" style="text-align: center;">Calendar Events</h1>

        <!--This 'for' loop gets the contents of the event from the Google Datastore database and returns it in the form of the calendar/event div, until all events have been returned.-->
        {% for form in Events %}

        <div class="todo_box" id="form_box">

          <p><strong>Event: {{form.eventName}} </strong></p>
          <p><strong>Date:</strong> {{form.eventDate}} </p>
          <p><strong>Location:</strong> {{form.eventLocation}} </p>
          <p><strong>Details:</strong> {{form.eventDetails}} </p>

        </div>

        {% endfor %}

      </div>

      <div class="center_column">

        <!--This div contains the HTML code run by the 'clock.js' file.-->
        <div class="transbox" >
          <div id="txt"></div>
              <p id="day"></p> <p id="month"></p>
        <p id="year"></p>
          <div id="date"></div>

        </div>



        <!--This is the div for the main events/calendar menu.-->
        <div class="notes_menu" id="notes_menu">

          <!--This 'for' loop gets the contents of the note from the Google Datastore database and returns it in the form of the note div, until all notes have been returned.-->
          {% for form in Notes %}

          <div class="note_box">

            <p><strong>Title: {{form.noteName}} </strong></p>
            <p><strong>Content:</strong> {{form.noteContent}} </p>

          </div>

          {% endfor %}

        </div>

        <!--This div contains the HTML code run by the 'clock.js' file.-->
        <div class="qotr_container">
            <script>

              var r_text = new Array ();
                r_text[0] = "Be yourself; everyone else is already taken. <br> - Oscar Wilde";
                r_text[1] = "Be who you are and say what you feel, because those who mind don't matter, and those who matter don't mind. <br> -  Bernard M. Baruch";
                r_text[2] = "You know you're in love when you can't fall asleep because reality is finally better than your dreams. <br> - Dr. Seuss";
                r_text[3] = "It is better to be hated for what you are than to be loved for what you are not. <br> - André Gide";
                r_text[4] = "We are all in the gutter, but some of us are looking at the stars. <br> - Oscar Wilde";
                r_text[5] = "I have not failed. I've just found 10,000 ways that won't work. <br> - Thomas A. Edison";
                r_text[6] = "I may not have gone where I intended to go, but I think I have ended up where I needed to be. <br> - Douglas Adams";
                r_text[7] = "Today you are You, that is truer than true. There is no one alive who is Youer than You. <br> - Dr. Seuss";
                r_text[8] = "Our patience will achieve more than our force. <br> - Edmund Burke";
                r_text[9] = "Everything precious is also vulnerable. <br> - Mary H.K. Choi";
                r_text[10] = "Don’t Let Yesterday Take Up Too Much Of Today. <br> - Will Rogers";
                r_text[11] = "We May Encounter Many Defeats But We Must Not Be Defeated. <br> - Maya Angelou";

              var i = Math.floor(r_text.length * Math.random());

              document.write("<center><FONT COLOR='black'>" +
              r_text[i]  + "</FONT></center><br/>");

          </script>
        </div>


        </div>

          <div class="events_menu" id="events_menu">

            <h1 class="title" style="text-align: center;">To Do List</h1>

            <form class="todo_enter_box" method="post" action="{{ url_for('submitted_todo') }}">
              <label for=todo_string></label>
              <input type="text" name="todo_string" required>
              <input type="hidden" name="user_id_number"  value="{{user_id_number}}">

              <input type="submit">
            </form>

            <!--This 'for' loop gets the contents of the event from the Google Datastore database and returns it in the form of the calendar/event div, until all events have been returned.-->
            {% for form in ToDos %}

            <div class="todo_box" id="todo_box">

              <p><strong>{{form.todo_string}} </strong></p>

            </div>

            {% endfor %}

          </div>
    </div>


  </body>
</html>
